{"_id":"5TYwSR8Wn7R0L99x","name":"Lucky","type":"feat","img":"systems/dnd5e/icons/skills/yellow_09.jpg","data":{"description":{"value":"<p>You can inspire others through stirring words or music. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Bardic Inspiration die, a d6. Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Bardic Inspiration die, but must decide before the GM says whether the roll succeeds or fails. Once the Bardic Inspiration die is rolled, it is lost. A creature can have only one Bardic Inspiration die at a time.</p><p>You can use this feature a number of times equal to your Charisma modifier (a minimum of once).</p><p>You regain any expended uses when you finish a long rest.</p><p>Your Bardic Inspiration die changes when you reach certain levels in this class. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level.</p><p><em>**Foundry note: Note the Other Formula is set to the base default of 1d6 and limited uses is set to the minimum of 1. Additionally, recovery is set to long rest (for levels before @Compendium[dnd5e.classfeatures.3VDZGs5Ug3hIE322]{Font of Inspiration} is gained). Please manually adjust as required.</em></p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":1,"max":"1","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"1d6","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true}},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.lucky.attack","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.label","mode":5,"value":"Lucky","priority":"20"},{"key":"flags.midi-qol.optional.lucky.save","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.check","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.count","mode":5,"value":"3","priority":"20"},{"key":"flags.midi-qol.optional.lucky.skill","mode":5,"value":"reroll","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_09.jpg","label":"Luck Point","origin":"Item.dQvh9dejF0s0d9nk","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":["data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc"]}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":""},"betterRolls5e":{"critRange":{"type":"String","value":null},"critDamage":{"type":"String","value":""},"quickDesc":{"type":"Boolean","value":true,"altValue":true},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickProperties":{"type":"Boolean","value":true,"altValue":true},"quickCharges":{"type":"Boolean","value":{"use":true,"resource":true,"charge":true},"altValue":{"use":true,"resource":true,"charge":true}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickOther":{"type":"Boolean","value":true,"altValue":true,"context":""},"quickFlavor":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}}}
{"_id":"AKfzFJlvNpPVv1qh","name":"Hunter's Mark - MQ0.8.20","type":"spell","img":"systems/dnd5e/icons/spells/evil-eye-red-1.jpg","data":{"description":{"value":"<p>You choose a creature you can see within range and mystically mark it as your quarry. Until the spell ends, you deal an extra {@dice 1d6} damage to the target whenever you hit it with a weapon attack, and you have advantage on any Wisdom (Perception) or Wisdom (Survival) check you make to find it. If the target drops to 0 hit points before this spell ends, you can use a bonus action on a subsequent turn of yours to mark a new creature.</p>","chat":"","unidentified":""},"source":"PHB pg. 251","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"hour"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":90,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":1,"school":"div","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":true},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"level","formula":""}},"effects":[{"_id":"9eOiLd1FGoDJ9eLu","changes":[],"disabled":false,"duration":{"startTime":null,"seconds":3600},"icon":"systems/dnd5e/icons/spells/evil-eye-red-1.jpg","label":"Marked","origin":"Item.SU8tsBLWTXP7NUdb","tint":null,"transfer":false,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}}}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.0xmXiPiuYws1OGcX"},"midi-qol":{"onUseMacroName":"ItemMacro"},"itemacro":{"macro":{"data":{"_id":null,"name":"Hunter's Mark - MQ0.8.20","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"// Sample Hunters mark onUse macro\nif (args[0].hitTargets.length === 0) return;\nif (args[0].tag === \"OnUse\") {\n    // Sample Hunters mark\n    let targetUuid = args[0].hitTargets[0].uuid;\n    let actor = await MidiQOL.MQfromActorUuid(args[0].actorUuid); // actor who cast the spell\n\n    if (!actor || !targetUuid) {\n      console.error(\"Hunter's Mark: no token/target selected\");\n      return;\n    }\n    // create an active effect, \n    //  one change showing the hunter's mark icon on the caster\n    //  the second setting the flag for the macro to be called when damaging an opponent\n \n    const effectData = {\n      changes: [\n        {key: \"flags.midi-qol.huntersMark\", mode: 5, value: targetUuid, priority: 20}, // who is marked\n        // {key: \"flags.dnd5e.DamageBonusMacro\", mode: 0, value: `ItemMacro.${args[0].item.name}`, priority: 20} // macro to apply the damage\n        {key: \"flags.dnd5e.DamageBonusMacro\", mode: 0, value: `ItemMacro.${args[0].item.name}`, priority: 20} // macro to apply the damage\n      ],\n\n      origin: args[0].itemUuid, //flag the effect as associated to the spell being cast\n      disabled: false,\n      duration: args[0].item.effects[0].duration,\n      icon: args[0].item.img,\n      label: args[0].item.name\n    }\n    effectData.duration.startTime = game.time.worldTime;\n    await actor.createEmbeddedDocuments(\"ActiveEffect\", [effectData]);\n} else if (args[0].tag === \"DamageBonus\") {\n    // only weapon attacks\n    if (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {};\n    let targetUuid = args[0].hitTargets[0].uuid;\n    // only on the marked target\n    if (targetUuid !== getProperty(args[0].actor.flags, \"midi-qol.huntersMark\")) return {};\n    let damageType = args[0].item.data.damage.parts[0][1];\n    const diceMult = args[0].isCritical ? 2: 1;\n    return {damageRoll: `${diceMult}d6[${damageType}]`, flavor: \"Hunters Mark Damage\"}\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}}}
{"_id":"AyuLaL8BsCuhDUhj","name":"Bardic Inspiration","type":"feat","img":"systems/dnd5e/icons/skills/yellow_08.jpg","data":{"description":{"value":"<p>You can inspire others through stirring words or music. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Bardic Inspiration die, a d6. Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Bardic Inspiration die, but must decide before the GM says whether the roll succeeds or fails. Once the Bardic Inspiration die is rolled, it is lost. A creature can have only one Bardic Inspiration die at a time.</p>\n<p>You can use this feature a number of times equal to your Charisma modifier (a minimum of once).</p>\n<p>You regain any expended uses when you finish a long rest.</p>\n<p>Your Bardic Inspiration die changes when you reach certain levels in this class. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level.</p>\n<p><em>**Midi-qol note: The Other Formula is removed as it is not  required<br /> Additionally, recovery is set to long rest (for levels before @Compendium[dnd5e.classfeatures.3VDZGs5Ug3hIE322]{Font of Inspiration} is gained). Please manually adjust as required.</em></p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":2,"max":"5","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true}},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.bardicInspiration.attack.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.save.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.check.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.label","mode":5,"value":"Bardic Inspiration","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.skill.all","mode":2,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"","mode":2,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Inspired","origin":"Item.dQvh9dejF0s0d9nk","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false,"durationExpression":""},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false,"displayTemp":false},"core":{"statusId":""},"dnd5e-helpers":{"rest-effect":"Ignore"}},"tint":null,"selectedKey":["__","__","__","__","__","__"]},{"_id":"E4t1UpMBxMNjDXAk","changes":[{"key":"flags.dae","mode":0,"value":"BardicInspirationDice (floor(@classes.bard.levels/5)+3) * 2","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Bardic Inspiration Dice","origin":"Item.qf4KSRUeFqSoP8fs","transfer":true,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"flags.dae"}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":"","effectActivation":false,"forceCEOff":false},"betterRolls5e":{"quickOther":{"context":"","value":true,"altValue":true},"critRange":{"value":null},"critDamage":{"value":""},"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true},"quickCharges":{"value":{"use":true},"altValue":{"use":true}}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"DieKhAmkFrHfXKgl","name":"Bardic Inspiration (No DAE)","type":"feat","img":"systems/dnd5e/icons/skills/yellow_08.jpg","data":{"description":{"value":"<p>You can inspire others through stirring words or music. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Bardic Inspiration die, a d6. Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Bardic Inspiration die, but must decide before the GM says whether the roll succeeds or fails. Once the Bardic Inspiration die is rolled, it is lost. A creature can have only one Bardic Inspiration die at a time.</p><p>You can use this feature a number of times equal to your Charisma modifier (a minimum of once).</p><p>You regain any expended uses when you finish a long rest.</p><p>Your Bardic Inspiration die changes when you reach certain levels in this class. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level.</p><p><em>**Foundry note: Note the Other Formula is set to the base default of 1d6 and limited uses is set to the minimum of 1. Additionally, recovery is set to long rest (for levels before @Compendium[dnd5e.classfeatures.3VDZGs5Ug3hIE322]{Font of Inspiration} is gained). Please manually adjust as required.</em></p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":2,"max":"5","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"1d6","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true}},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.bardicInspiration.attack.all","mode":5,"value":"1d6","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.label","mode":5,"value":"Bardic Inspiration","priority":"20"},{"key":"flags.midi-qol.optional..bardicInspiration.save.all","mode":5,"value":"1d6","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.check.all","mode":5,"value":"1d6","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.skill.all","mode":2,"value":"1d6","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Inspired","origin":"Item.dQvh9dejF0s0d9nk","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false,"durationExpression":""},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false,"displayTemp":false},"core":{"statusId":""},"dnd5e-helpers":{"rest-effect":"Ignore"}},"tint":null,"selectedKey":["__","__","__","__","__"]}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":"","effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}}}
{"_id":"Dpc1nj3RGKO1AvWS","name":"Aura of Protection","permission":{"default":0,"ZDFhNjE2NDMyYTY1":3},"type":"feat","data":{"description":{"value":"<p>Starting at 6th level, whenever you or a friendly creature within 10 feet of you must make a saving throw, the creature gains a bonus to the saving throw equal to your Charisma modifier (with a minimum bonus of +1). You must be conscious to grant this bonus.</p>\n<p>&nbsp;At 18th level, the range of this aura increases to 30 feet.</p>\n<p>&nbsp;</p>\n<p>Requires Active Auras.</p>","chat":"","unidentified":""},"source":"PHB pg. 85","activation":{"type":"none","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":10,"long":30,"units":"ft"},"uses":{"value":0,"max":"0","per":"","type":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Paladin 6","recharge":{"value":null,"charged":false},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"properties":{},"attributes":{"spelldc":10}},"flags":{"dae":{"migrated":true,"activeEquipped":false,"alwaysActive":true},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"favtab":{"isFavorite":false},"core":{"sourceId":"Item.WiVleJLWZ5UXryDN"},"gm-notes":{},"exportSource":{"world":"testWorld","system":"dnd5e","coreVersion":"0.7.9","systemVersion":"1.2.3"}},"img":"systems/dnd5e/icons/skills/blue_13.jpg","effects":[{"_id":"9OFOAQENA1VYGc7T","flags":{"ActiveAuras":{"isAura":true,"inactive":false,"aura":"Allies","radius":10,"hidden":false,"height":false},"dae":{"stackable":false,"specialDuration":"None","transfer":true,"macroRepeat":"none"}},"changes":[{"key":"data.bonuses.abilities.save","value":"+@abilities.cha.mod","mode":0,"priority":20},{"key":"macro.tokenMagic","value":"magic-field","mode":0,"priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"systems/dnd5e/icons/skills/blue_13.jpg","label":"Aura of Protection","origin":"Actor.Y7foSiLRLo7ysFr9.OwnedItem.MyXtCPagugDlf6TQ","tint":"","transfer":true}]}
{"_id":"EibKlOVye2eeS3kt","name":"GM Inspiration","type":"feat","img":"icons/magic/control/buff-luck-fortune-green.webp","data":{"description":{"value":"","chat":"","unidentified":""},"source":"","activation":{"type":"bonus","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"","recharge":{"value":null,"charged":false}},"effects":[{"_id":"9kPKxYfLznahYDJe","changes":[{"key":"flags.midi-qol.advantage.all","mode":5,"value":"1","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/magic/control/buff-luck-fortune-green.webp","label":"GM Inspiration","origin":"Item.F58v9Hv37KF4JszF","transfer":false,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":["1Action","isSave","isCheck","isSkill"],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"data.abilities.cha.dc"}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"itemacro":{"macro":{"data":{"_id":null,"name":"Inspiration","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"actor.deleteEmbeddedDocuments(\"Item\", [item.id])","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midi-qol":{"onUseMacroName":"ItemMacro"},"core":{"sourceId":"Item.F58v9Hv37KF4JszF"}}}
{"_id":"JJYhn1SqoMGGKUyO","name":"Invisibility","type":"spell","img":"systems/dnd5e/icons/spells/fog-sky-2.jpg","data":{"description":{"value":"<p>A creature you touch becomes invisible until the spell ends. Anything the target is wearing or carrying is invisible as long as it is on the target's person. The spell ends for a target that attacks or casts a spell.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 3rd level or higher, you can target one additional creature for each slot level above 2nd.</p>\n<p>&nbsp;</p>\n<p>* This verison of inviisbility uses conditional visibility and works with midi-qol concentration</p>","chat":"","unidentified":""},"source":"PHB pg. 254","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"hour"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":2,"school":"ill","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":true},"materials":{"value":"An eyelash encased in gum arabic","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"level","formula":""},"attributes":{"spelldc":10}},"effects":[{"_id":"GoUSbGdrl7G0I89N","flags":{"dae":{"stackable":false,"specialDuration":["1Attack"],"macroRepeat":"none","transfer":false},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null,"alignment":"","type":"","save":"","savedc":null}},"changes":[{"key":"macro.ConditionalVisibility","value":"invisible","mode":0,"priority":20},{"key":"flags.midi-qol.advantage.attack.all","value":"1","mode":0,"priority":20}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/fog-sky-2.jpg","label":"Invisible","origin":"Actor.Y7foSiLRLo7ysFr9.OwnedItem.MtbkgRT7nopCAnpB","tint":null,"transfer":false}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"dae":{"activeEquipped":false,"alwaysActive":false},"midi-qol":{"onUseMacroName":""},"core":{"sourceId":"Item.MtbkgRT7nopCAnpB"},"favtab":{"isFavorite":false},"autoanimations":{"killAnim":false,"animLevel":false,"override":false,"animType":"t1","animName":"","bards":{"bardAnim":"a1","bardTarget":true,"bardTargetAnim":"a1","bardTargetColor":"a1","bardSelf":true,"marker":true,"markerColor":"a1","markerColorTarget":"a1"},"spellVar":"a1","hmAnim":"a1","rangedOptions":{"rangeDmgType":""},"color":"n1","spellOptions":{"spellLoops":1},"uaStrikeType":"physical","dtvar":"dt1","divineSmite":{"dsEnable":false,"dsSelf":true,"dsSelfDelay":0,"dsSelfColor":"a1","dsTarget":true,"dsTargetDelay":1250,"dsTargetColor":"a1"},"explosion":false,"exAnimLevel":false,"explodeVariant":"ev1","impactVar":"a1","explodeColor":"","explodeRadius":"0","explodeLoop":"1","allSounds":{"explosion":{"audioExplodeEnabled":false,"file":"","delay":100,"volume":0.25},"item":{"enableAudio":false,"file":"","delay":100,"volume":0.25}},"selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30,"templates":{"tempType":"a1","tempAnim":"","tempColor":"","tempLoop":1,"customAnim":false,"customPath":""}}}}
{"name":"Rakish Audacity","permission":{"default":0,"devnIbfBHb74U9Zv":3},"type":"feat","data":{"description":{"value":"<p>Beginning at 1st level, you know how to strike subtly and exploit a foe's distraction. Once per turn, you can deal an extra [[/r 1d6]] damage to one creature you hit with an attack if you have advantage on the attack roll. The attack must use a finesse or a ranged weapon.</p>\n<p>You don't need advantage on the attack roll if another enemy of the target is within 5 feet of it, that enemy isn't&nbsp;<a href=\"https://5e.tools/conditionsdiseases.html#incapacitated_phb\">incapacitated</a>, and you don't have disadvantage on the attack roll.</p>\n<p>The amount of the extra damage increases as you gain levels in this class, as shown in the Sneak Attack column of the Rogue table.</p>\n<p>&nbsp;</p>\n<p>V1.0</p>","chat":"","unidentified":""},"source":"PHB","activation":{"type":"special","cost":0,"condition":""},"duration":{"value":24,"units":"hour"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Rogue 1","recharge":{"value":null,"charged":false},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"properties":{},"attributes":{"spelldc":10}},"flags":{"dae":{"activeEquipped":false,"alwaysActive":false},"exportSource":{"world":"storm-kings-thunder","system":"dnd5e","coreVersion":"0.7.9","systemVersion":"1.2.3"},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"_data":{"name":"Rakish Audacity","type":"script","scope":"global","command":"if (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {}; // weapon attack\nif (args[0].hitTargets.length < 1) return;\nMidiQOL.warn(`Checking sneak attack for ${args[0].actor.name}`);\nif (args[0].item.data.actionType === \"mwak\" && !args[0].item.data.properties?.fin) \n  return {}; // ranged or finesse\ntoken = canvas.tokens.get(args[0].tokenId);\nactor = token.actor;\nconst rogueLevels = actor.getRollData().classes.rogue?.levels;\nif (!rogueLevels) {\n  MidiQOL.warn(\"Sneak Attack Damage: Trying to do sneak attack and not a rogue\");\n  return {}; // rogue only\n}\nlet target = canvas.tokens.get(args[0].hitTargets[0]._id);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime === lastTime) {\n   MidiQOL.warn(\"Sneak Attack Damage: Already done a sneak attack this turn\");\n   return {};\n  }\n}\nlet isSneak = args[0].advantage;\nlet foundEnemy = true; // used to flag if hostile or neutrals surround target\nif (!isSneak) {\n  foundEnemy = false;\n  let nearbyEnemy = canvas.tokens.placeables.filter(t => {\n    let nearby = (t.actor &&\n         t.actor?.id !== args[0].actor._id && // not me\n         t.id !== target.id && // not the target\n         t.actor?.data.data.attributes?.hp?.value > 0 && // not incapacitated\n         t.data.disposition !== target.data.disposition && // not an ally\n         MidiQOL.getDistance(t, target, false) <= 5 // close to the target\n     );\n\n    foundEnemy = foundEnemy || (nearby && t.data.disposition === -target.data.disposition)\n    return nearby;\n  });\n  isSneak = nearbyEnemy.length>0;\n}\nif (!isSneak) {    // rakish audactity checkNearby\n    let totalNearbyToMe = MidiQOL.findNearby(null, token, 5, 9).length;\n    let distanceToTarget = MidiQOL.getDistance(target,token, false);\n    const rakish = !args[0].disadvantage && totalNearbyToMe === 1 && distanceToTarget <= 5;\n    if (rakish) {\n        foundEnemy = true; // don't display the neutrals warning\n        isSneak = true;\n    }\n}\nif (!isSneak) {\n    MidiQOL.warn(`${args[0].name} Not a sneak attack`);\n    return {};\n}\n\nlet dialog = new Promise((resolve, reject) => {\n  new Dialog({\n  // localize this text\n  title: \"Conditional Damage\",\n  content: `<p>Use Sneak attack?</p>` + (!foundEnemy?\"<p> Only Nuetral creatures nearby</p>\":\"\"),\n  buttons: {\n      one: {\n          icon: '<i class=\"fas fa-check\"></i>',\n          label: \"Confirm\",\n          callback: () => resolve(true)\n      },\n      two: {\n          icon: '<i class=\"fas fa-times\"></i>',\n          label: \"Cancel\",\n          callback: () => {resolve(false)}\n      }\n  },\n  default: \"two\"\n  }).render(true);\n});\nlet useSneak = await dialog;\nif (!useSneak) return {}\nconst diceMult = args[0].isCritical ? 2: 1;\nconst baseDice = Math.ceil(rogueLevels/2);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime !== lastTime) {\n     setProperty(token.data.flags, \"midi-qol.sneakAttackTime\", combatTime)\n  }\n}\n\n// How to check that we've already done one this turn?\nreturn {damageRoll: `${baseDice * diceMult}d6`, flavor: \"Sneak Attack\"};","author":"devnIbfBHb74U9Zv"},"data":{"name":"Rakish Audacity","type":"script","scope":"global","command":"if (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {}; // weapon attack\nif (args[0].hitTargets.length < 1) return;\nMidiQOL.warn(`Checking sneak attack for ${args[0].actor.name}`);\nif (args[0].item.data.actionType === \"mwak\" && !args[0].item.data.properties?.fin) \n  return {}; // ranged or finesse\ntoken = canvas.tokens.get(args[0].tokenId);\nactor = token.actor;\nconst rogueLevels = actor.getRollData().classes.rogue?.levels;\nif (!rogueLevels) {\n  MidiQOL.warn(\"Sneak Attack Damage: Trying to do sneak attack and not a rogue\");\n  return {}; // rogue only\n}\nlet target = canvas.tokens.get(args[0].hitTargets[0]._id);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime === lastTime) {\n   MidiQOL.warn(\"Sneak Attack Damage: Already done a sneak attack this turn\");\n   return {};\n  }\n}\nlet isSneak = args[0].advantage;\nlet foundEnemy = true; // used to flag if hostile or neutrals surround target\nif (!isSneak) {\n  foundEnemy = false;\n  let nearbyEnemy = canvas.tokens.placeables.filter(t => {\n    let nearby = (t.actor &&\n         t.actor?.id !== args[0].actor._id && // not me\n         t.id !== target.id && // not the target\n         t.actor?.data.data.attributes?.hp?.value > 0 && // not incapacitated\n         t.data.disposition !== target.data.disposition && // not an ally\n         MidiQOL.getDistance(t, target, false) <= 5 // close to the target\n     );\n\n    foundEnemy = foundEnemy || (nearby && t.data.disposition === -target.data.disposition)\n    return nearby;\n  });\n  isSneak = nearbyEnemy.length>0;\n}\nif (!isSneak) {    // rakish audactity checkNearby\n    let totalNearbyToMe = MidiQOL.findNearby(null, token, 5, 9).length;\n    let distanceToTarget = MidiQOL.getDistance(target,token, false);\n    const rakish = !args[0].disadvantage && totalNearbyToMe === 1 && distanceToTarget <= 5;\n    if (rakish) {\n        foundEnemy = true; // don't display the neutrals warning\n        isSneak = true;\n    }\n}\nif (!isSneak) {\n    MidiQOL.warn(`${args[0].name} Not a sneak attack`);\n    return {};\n}\n\nlet dialog = new Promise((resolve, reject) => {\n  new Dialog({\n  // localize this text\n  title: \"Conditional Damage\",\n  content: `<p>Use Sneak attack?</p>` + (!foundEnemy?\"<p> Only Nuetral creatures nearby</p>\":\"\"),\n  buttons: {\n      one: {\n          icon: '<i class=\"fas fa-check\"></i>',\n          label: \"Confirm\",\n          callback: () => resolve(true)\n      },\n      two: {\n          icon: '<i class=\"fas fa-times\"></i>',\n          label: \"Cancel\",\n          callback: () => {resolve(false)}\n      }\n  },\n  default: \"two\"\n  }).render(true);\n});\nlet useSneak = await dialog;\nif (!useSneak) return {}\nconst diceMult = args[0].isCritical ? 2: 1;\nconst baseDice = Math.ceil(rogueLevels/2);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime !== lastTime) {\n     setProperty(token.data.flags, \"midi-qol.sneakAttackTime\", combatTime)\n  }\n}\n\n// How to check that we've already done one this turn?\nreturn {damageRoll: `${baseDice * diceMult}d6`, flavor: \"Sneak Attack\"};","author":"devnIbfBHb74U9Zv"},"options":{},"apps":{},"compendium":null}},"core":{"sourceId":"Item.FkeL8Qyuy8EE8oGD"},"favtab":{"isFavorite":false},"betterRolls5e":{"critRange":{"value":null,"type":"String"},"critDamage":{"value":"","type":"String"},"quickDesc":{"value":true,"altValue":true,"type":"Boolean"},"quickProperties":{"value":true,"altValue":true,"type":"Boolean"},"quickOther":{"value":true,"altValue":true,"type":"Boolean","context":""},"quickFlavor":{"value":true,"altValue":true,"type":"Boolean"},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickCharges":{"type":"Boolean","value":{"use":true,"resource":true,"charge":false},"altValue":{"use":true,"resource":true,"charge":false}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"midi-qol":{"onUseMacroName":""},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"n1","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"ec1","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false}},"img":"systems/dnd5e/icons/skills/violet_27.jpg","effects":[{"_id":"Ns5pHr7gcYPTJ7HU","flags":{"dae":{"stackable":false,"transfer":true,"specialDuration":["None"],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null,"alignment":"","type":"","save":"","savedc":null,"hostile":false,"onlyOnce":false,"time":"None"}},"changes":[{"key":"flags.dnd5e.DamageBonusMacro","value":"ItemMacro.Rakish Audacity","mode":0,"priority":20},{"key":"data.attributes.init.total","value":"@abilities.cha.mod","mode":2,"priority":20},{"key":"data.attributes.init.mod","value":"@abilities.cha.mod","mode":2,"priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"systems/dnd5e/icons/skills/violet_27.jpg","label":"Rakish Audacity","origin":"Actor.DMTSWfQs8whM5FtE.OwnedItem.qgNwoSwmcF8DkhNy","tint":"","transfer":true}],"_id":"JPmBscL7iyYfytWd"}
{"name":"Longsword of Wounding","type":"weapon","img":"systems/dnd5e/icons/skills/affliction_01.jpg","data":{"description":{"value":"<p><em>(Requires attunement)</em></p>\n<p>Hit points lost to this weapon's damage can be regained only through a short or long rest, rather than by regeneration, magic, or any other means.</p>\n<p>Once per turn, when you hit a creature with an attack using this magic weapon, you can wound the target. At the start of each of the wounded creature's turns, it takes 1d4 necrotic damage for each time you've wounded it, and it can then make a DC 15 Constitution saving throw, ending the effect of all such wounds on itself on a success. Alternatively, the wounded creature, or a creature within 5 feet of it, can use an action to make a DC 15 Wisdom (Medicine) check, ending the effect of such wounds on it on a success.</p>\n<p> </p>\n<p>Implementation Notes: The macro checks that only one wound is applied per turn.</p>","chat":"","unidentified":""},"source":"DMG pg. 207","quantity":1,"weight":3,"price":2000,"attuned":false,"attunement":1,"equipped":false,"rarity":"Rare","identified":true,"activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"mwak","attackBonus":"0","chatFlavor":"","critical":null,"damage":{"parts":[["1d8 + @mod","slashing"]],"versatile":"1d10 + @mod"},"formula":"1d4","save":{"ability":"con","dc":15,"scaling":"flat"},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"weaponType":"martialM","properties":{"amm":false,"hvy":false,"fin":false,"fir":false,"foc":false,"lgt":false,"lod":false,"rch":false,"rel":false,"ret":false,"spc":false,"thr":false,"two":false,"ver":true,"ada":false,"mgc":false,"sil":false,"nodam":false,"fulldam":false,"halfdam":false},"proficient":false,"attributes":{"spelldc":10}},"effects":[{"_id":"ZlIku5Sq0gOPI01P","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"rounds":99,"startTime":null},"icon":"systems/dnd5e/icons/skills/affliction_01.jpg","label":"Wounded","origin":"Item.WmK8cD8MDoUq4SaV","transfer":false,"flags":{"dae":{"stackable":"count","macroRepeat":"startEveryTurn","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.items.pG6dddIcb9NmPrdt"},"itemacro":{"macro":{"data":{"_id":null,"name":"Longsword of Wounding","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"//\nconst lastArg = args[args.length - 1];\nlet ttoken = await fromUuid(lastArg.tokenUuid);\nconst tactor = ttoken?.actor;\nconst item = await fromUuid(lastArg.origin);\nif (args[0] === \"on\") {\n  const sourceActor = item.parent;\n  const combatTime = game.combat.round + game.combat.turn / 100;\n  const lastTime = getProperty(sourceActor.data.flags, \"midi-qol.woundedTime\");\n  lastArg.canWound = !game.combat || (combatTime !== lastTime);\n  if (game.combat && lastArg.canWound) {\n    let combatTime = game.combat.round + game.combat.turn / 100;\n    let lastTime = getProperty(sourceActor.data.flags, \"midi-qol.woundedTime\");\n    if (combatTime !== lastTime) {\n      setProperty(sourceActor.data.flags, \"midi-qol.woundedTime\", combatTime)\n    }\n  } \n  if (!lastArg.canWound) {\n    const stacks = getProperty(lastArg.efData, \"flags.dae.stacks\") || 1;\n    const label = lastArg.efData.label.replace(/\\s+\\(\\d*\\)/, \"\") +` (${stacks - 1})`;\n    Hooks.once(\"midi-qol.RollComplete\", () => {\n    tactor.updateEmbeddedDocuments(\"ActiveEffect\", [{ _id: lastArg.efData._id, \"flags.dae.stacks\": stacks - 1, \"label\": label }]);\n    });\n  }\n} else if (args[0] === \"each\") {\n  const woundCount = getProperty(lastArg.efData, \"flags.dae.stacks\");\n  if (!woundCount) return;\n  const saveType = \"con\";\n  const DC = 15;\n  const flavor = `${CONFIG.DND5E.abilities[saveType]} DC${DC} ${item?.name || \"\"}`;\n  let save = (await tactor.rollAbilitySave(saveType, { flavor, fastForward: true })).total;\n  if (save >= DC) {\n    const effectsToDelete = tactor.effects.filter(ef => ef.data.origin === lastArg.origin).map(ef => ef.id);\n    ChatMessage.create({content: \"Save was made\"});\n    await MidiQOL.socket().executeAsGM(\"removeEffects\", { actorUuid: tactor.uuid, effects: [lastArg.effectId] })\n  } else {\n    let damageRoll = new Roll(`${woundCount}d4[necrotic]`).roll(); // could be argument\n    new MidiQOL.DamageOnlyWorkflow(tactor, ttoken, damageRoll.total, \"necrotic\", [ttoken], damageRoll, { flavor: `Failed Save for ${item.name}`, itemData: item?.toObject(), itemCardId: \"new\", useOther: true })\n  }\n} else if (args[0] === \"off\") {\n  // do any clean up\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midi-qol":{"onUseMacroName":""},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}},"_id":"Kh3cFKDscu4tPsgd"}
{"_id":"NMrXG3xUYQoNuIiF","name":"Divine Smite MQ0.8.9","type":"spell","img":"systems/dnd5e/icons/skills/light_05.jpg","data":{"description":{"value":"<p>Starting at 2nd Level, when you hit a creature with a melee weapon Attack, you can expend one spell slot to deal radiant damage to the target, in addition to the weapon’s damage.</p>\n                                                                                                                <p>The extra damage is 2d8 for a 1st-level spell slot, plus 1d8 for each Spell Level higher than 1st, to a maximum of 5d8.</p>\n                                                                                                                <p>The damage increases by 1d8 if the target is an Undead or a fiend, to a maximum of 6d8.</p>\n                                                                                                                <p> </p>\n                                                                                                                <p>This item uses the \"item macro\" feature where the macro that does the rolling is bound to the item. If you want to edit the macro you need to have the item macros module installed, but it is not required to just use the item.</p>","chat":"","unidentified":""},"source":"","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":5,"long":5,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":1,"school":"con","components":{"value":"","vocal":false,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"always","prepared":false},"scaling":{"mode":"none","formula":""},"spellType":{"value":"","_deprecated":true},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"concentration":{"value":null,"_deprecated":true},"ritual":{"value":null,"_deprecated":true},"attributes":{"spelldc":10}},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"dynamiceffects":{"effects":[{"modSpecKey":"macro.itemMacro","value":"@target @item.level @item","mode":"+","targetSpecific":false,"id":1,"itemId":"0u1wiqpT0znKtx4g","active":true,"_targets":[]},{"modSpecKey":"macro.tokenMagic","value":"fumes","mode":"+","targetSpecific":false,"id":2,"itemId":"0u1wiqpT0znKtx4g","active":true,"_targets":[],"label":"Macro TokenMagic"}],"equipActive":false,"alwaysActive":false},"betterRolls5e":{"quickDamage":{"context":{"0":""},"value":{"0":true},"altValue":{"0":true}},"critRange":{"value":""},"critDamage":{"value":""},"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickOther":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true},"quickVersatile":{"value":false,"altValue":false}},"favtab":{"isFavourite":true,"isFavorite":true},"itemacro":{"macro":{"data":{"_id":null,"name":"Divine Smite MQ0.8.9","type":"chat","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = canvas.tokens.get(args[0].hitTargets[0]?._id);\nlet improvedDivineSmite = args[0].actor.items.find(i=> i.name ===\"Improved Divine Smite\");\nlet numDice = 1 + args[0].spellLevel;\nif (numDice > 6) numDice = 6;\nif (improvedDivineSmite) numDice += 1;\nlet undead = [\"undead\", \"fiend\"].some(type => (target?.actor.data.data.details.type?.value || \"\").toLowerCase().includes(type));\nif (undead) numDice += 1;\nif (args[0].isCritical) numDice = numDice * 2;\nlet damageRoll = new Roll(`${numDice}d8`).roll();\nif (args[0].isCritical) damageRoll = MidiQOL.doCritModify(damageRoll)\nnew MidiQOL.DamageOnlyWorkflow(actor, token, damageRoll.total, \"radiant\", target ? [target] : [], damageRoll, {flavor: \"Divine Smite - Damage Roll (Radiant)\", itemCardId: args[0].itemCardId})","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"mess":{"templateTexture":""},"dae":{"alwaysActive":false,"activeEquipped":false},"midi-qol":{"onUseMacroName":"ItemMacro"},"core":{"sourceId":"Item.pJKe8oNZdJSKtbcu"},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","bards":{"bardAnim":"a1","bardTarget":true,"bardSelf":true,"marker":true,"markerColor":"a1"},"spellVar":"a1","hmAnim":"a1","color":"n1","spellOptions":{"spellLoops":1},"uaStrikeType":"physical","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"","explodeRadius":"0","explodeLoop":"1","allSounds":{"explosion":{"audioExplodeEnabled":false,"file":"","delay":100,"volume":25},"item":{"enableAudio":false,"file":"","delay":100,"volume":25}},"selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30}}}
{"_id":"S3S7loH9jwoX4nHT","name":"Rage MQ0.8.9","type":"feat","img":"systems/dnd5e/icons/skills/red_10.jpg","data":{"description":{"value":"<p>In battle, you fight with primal ferocity. On your turn, you can enter a rage as a bonus action.&nbsp;While raging, you gain the following benefits if you aren't wearing heavy armor:</p>\n<ul>\n<li>\n<p>You have advantage on Strength checks and Strength saving throws.</p>\n</li>\n<li>\n<p>When you make a melee weapon attack using Strength, you gain a bonus to the damage roll that increases as you gain levels as a barbarian, as shown in the Rage Damage column of the Barbarian table.</p>\n</li>\n<li>\n<p>You have resistance to bludgeoning, piercing, and slashing damage.</p>\n</li>\n</ul>\n<p>If you are able to cast spells, you can't cast them or concentrate on them while raging.&nbsp;</p>\n<p>Your rage lasts for 1 minute. It ends early if you are knocked unconscious or if your turn ends and you haven't attacked a hostile creature since your last turn or taken damage since then. You can also end your rage on your turn as a bonus action.&nbsp;</p>\n<p>Once you have raged the number of times shown for your barbarian level in the Rages column in the table below, you must finish a long rest before you can rage again.</p>\n<p><em style=\"box-sizing: border-box; user-select: text; color: #191813; font-size: 13px;\">**Foundry note: Note the limited uses is set to the base default of 2. Please manually adjust as required.</em></p>\n<table style=\"width: 286px; height: 170px;\" border=\"1\">\n<tbody>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\"><strong>Barbarian Level</strong></td>\n<td style=\"width: 68px; height: 17px;\"><strong>Rages</strong></td>\n<td style=\"width: 96px; height: 17px;\"><strong>Rage Damage</strong></td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">1st</td>\n<td style=\"width: 68px; height: 17px;\">2</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">2nd</td>\n<td style=\"width: 68px; height: 17px;\">2</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">3rd</td>\n<td style=\"width: 68px; height: 17px;\">3</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">4th</td>\n<td style=\"width: 68px; height: 17px;\">3</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">5th</td>\n<td style=\"width: 68px; height: 17px;\">3</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">6th</td>\n<td style=\"width: 68px; height: 17px;\">4</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">7th</td>\n<td style=\"width: 68px; height: 17px;\">4</td>\n<td style=\"width: 96px; height: 17px;\">+2</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">8th</td>\n<td style=\"width: 68px;\">4</td>\n<td style=\"width: 96px;\">+2</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">9th</td>\n<td style=\"width: 68px;\">4</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">10th</td>\n<td style=\"width: 68px;\">4</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">11th</td>\n<td style=\"width: 68px;\">4</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">12th</td>\n<td style=\"width: 68px;\">5</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">13th</td>\n<td style=\"width: 68px;\">5</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">14th</td>\n<td style=\"width: 68px;\">5</td>\n<td style=\"width: 96px;\">+3</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">15th</td>\n<td style=\"width: 68px; height: 17px;\">5</td>\n<td style=\"width: 96px; height: 17px;\">+3</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">16th</td>\n<td style=\"width: 68px; height: 17px;\">5</td>\n<td style=\"width: 96px; height: 17px;\">+4</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">17th</td>\n<td style=\"width: 68px;\">6</td>\n<td style=\"width: 96px;\">+4</td>\n</tr>\n<tr>\n<td style=\"width: 112px;\">18th</td>\n<td style=\"width: 68px;\">6</td>\n<td style=\"width: 96px;\">+4</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">19th</td>\n<td style=\"width: 68px; height: 17px;\">6</td>\n<td style=\"width: 96px; height: 17px;\">+4</td>\n</tr>\n<tr style=\"height: 17px;\">\n<td style=\"width: 112px; height: 17px;\">20th</td>\n<td style=\"width: 68px; height: 17px;\">Unlimited</td>\n<td style=\"width: 96px; height: 17px;\">+4</td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>","chat":"","unidentified":""},"source":"PHB pg. 48","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":0,"max":"2","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Barbarian 1","recharge":{"value":null,"charged":false},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"properties":{"amm":false,"fin":false,"fir":false,"foc":false,"hvy":false,"lgt":false,"lod":false,"rch":false,"rel":false,"ret":false,"spc":false,"thr":false,"two":false,"ver":false}},"effects":[{"_id":"eWhL8hUr0c2ujDUm","flags":{"dae":{"stackable":false,"specialDuration":[],"macroRepeat":"none","transfer":false},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"alignment":"","type":"","aura":"None","radius":null,"save":"","savedc":null}},"changes":[{"key":"data.traits.dr.value","value":"slashing","mode":2,"priority":20},{"key":"data.traits.dr.value","value":"piercing","mode":2,"priority":20},{"key":"data.traits.dr.value","value":"bludgeoning","mode":2,"priority":20},{"key":"flags.midi-qol.advantage.ability.save.str","value":"1","mode":0,"priority":20},{"key":"flags.midi-qol.advantage.ability.check.str","value":"1","mode":0,"priority":20},{"key":"flags.dnd5e.DamageBonusMacro","value":"ItemMacro.Rage","mode":0,"priority":20}],"disabled":false,"duration":{"startTime":null,"rounds":10},"icon":"systems/dnd5e/icons/skills/red_10.jpg","label":"Rage","origin":"Actor.DMTSWfQs8whM5FtE.OwnedItem.3YrB0pvLXwJXGGt2","tint":null,"transfer":false}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"core":{"sourceId":"Item.C2lYHOGH2UpEifk7"},"exportSource":{"world":"kobold-cauldron","system":"dnd5e","coreVersion":"0.7.7","systemVersion":"1.1.1"},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Rage","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"const levels = args[0].rollData.classes?.barbarian?.levels ?? 0;\nif (!levels) return {};\nif (!args[0].item) return {};\nconst tactor = canvas.tokens.get(args[0].tokenId).actor;\nconst titem = tactor.items.get(args[0].item._id);\nconst rollMod = titem.abilityMod;\nif (rollMod !== \"str\") return {};\nconst bonus = levels < 9 ? \"2\" : (levels < 16 ? \"3\" : \"4\");\nreturn {damageRoll: bonus, flavor: \"Rage Damage\"};","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"favtab":{"isFavorite":false}}}
{"name":"Greatsword of Wounding","type":"weapon","img":"systems/dnd5e/icons/skills/affliction_01.jpg","data":{"description":{"value":"<p><em>(Requires attunement)</em></p>\n<p>Hit points lost to this weapon's damage can be regained only through a short or long rest, rather than by regeneration, magic, or any other means.</p>\n<p>Once per turn, when you hit a creature with an attack using this magic weapon, you can wound the target. At the start of each of the wounded creature's turns, it takes 1d4 necrotic damage for each time you've wounded it, and it can then make a DC 15 Constitution saving throw, ending the effect of all such wounds on itself on a success. Alternatively, the wounded creature, or a creature within 5 feet of it, can use an action to make a DC 15 Wisdom (Medicine) check, ending the effect of such wounds on it on a success.</p>","chat":"","unidentified":""},"source":"DMG pg. 207","quantity":1,"weight":6,"price":2000,"attuned":false,"attunement":1,"equipped":false,"rarity":"Rare","identified":true,"activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"mwak","attackBonus":"0","chatFlavor":"","critical":null,"damage":{"parts":[["2d6 + @mod","slashing"]],"versatile":""},"formula":"1d4","save":{"ability":"con","dc":15,"scaling":"flat"},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"weaponType":"martialM","properties":{"amm":false,"hvy":true,"fin":false,"fir":false,"foc":false,"lgt":false,"lod":false,"rch":false,"rel":false,"ret":false,"spc":false,"thr":false,"two":true,"ver":false,"ada":false,"mgc":false,"sil":false,"nodam":false,"fulldam":false,"halfdam":false},"proficient":true,"attributes":{"spelldc":10}},"effects":[{"_id":"BqzfX8p9NqtZ1Qxx","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"rounds":99,"startTime":null},"icon":"systems/dnd5e/icons/skills/affliction_01.jpg","label":"Wounded","origin":"Item.W4NUvzHSxGWmNa8Z","transfer":false,"flags":{"dae":{"stackable":"count","macroRepeat":"startEveryTurn","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.items.JpwuGtFkfrGibQpP"},"itemacro":{"macro":{"data":{"_id":null,"name":"Greatsword of Wounding","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"//\nconst lastArg = args[args.length - 1];\nlet ttoken = await fromUuid(lastArg.tokenUuid);\nconst tactor = ttoken?.actor;\nconst item = await fromUuid(lastArg.origin);\nif (args[0] === \"on\") {\n  const sourceActor = item.parent;\n  console.error(actor, tactor, args)\n\n  const combatTime = game.combat.round + game.combat.turn / 100;\n  const lastTime = getProperty(sourceActor.data.flags, \"midi-qol.woundedTime\");\n  lastArg.canWound = !game.combat || (combatTime !== lastTime);\n  if (game.combat && lastArg.canWound) {\n    let combatTime = game.combat.round + game.combat.turn / 100;\n    let lastTime = getProperty(sourceActor.data.flags, \"midi-qol.woundedTime\");\n    if (combatTime !== lastTime) {\n      setProperty(sourceActor.data.flags, \"midi-qol.woundedTime\", combatTime)\n    }\n  } \n  if (!lastArg.canWound) {\n    console.error(\"The effect \", lastArg.efData, lastArg.efData._id)\n    const stacks = getProperty(lastArg.efData, \"flags.dae.stacks\") || 1;\n    const label = lastArg.efData.label.replace(/\\s+\\(\\d*\\)/, \"\") +` (${stacks - 1})`;\n    console.error(\"Undoing stacks\", stacks, label);\n    Hooks.once(\"midi-qol.RollComplete\", () => {\n    tactor.updateEmbeddedDocuments(\"ActiveEffect\", [{ _id: lastArg.efData._id, \"flags.dae.stacks\": stacks - 1, \"label\": label }]);\n    });\n  }\n} else if (args[0] === \"each\") {\n  const woundCount = getProperty(lastArg.efData, \"flags.dae.stacks\");\n  if (!woundCount) return;\n  const saveType = \"con\";\n  const DC = 15;\n  const flavor = `${CONFIG.DND5E.abilities[saveType]} DC${DC} ${item?.name || \"\"}`;\n  let save = (await tactor.rollAbilitySave(saveType, { flavor, fastForward: true })).total;\n  console.error(\"Save is \", save, DC)\n  if (save >= DC) {\n    const effectsToDelete = tactor.effects.filter(ef => ef.data.origin === lastArg.origin).map(ef => ef.id);\n    ChatMessage.create({content: \"Save was made\"});\n    await MidiQOL.socket().executeAsGM(\"removeEffects\", { actorUuid: tactor.uuid, effects: [lastArg.effectId] })\n  } else {\n    let damageRoll = new Roll(`${woundCount}d4[necrotic]`).roll(); // could be argument\n    new MidiQOL.DamageOnlyWorkflow(tactor, ttoken, damageRoll.total, \"necrotic\", [ttoken], damageRoll, { flavor: `Failed Save for ${item.name}`, itemData: item?.toObject(), itemCardId: \"new\", useOther: true })\n  }\n} else if (args[0] === \"off\") {\n  // do any clean up\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midi-qol":{"onUseMacroName":""},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}},"_id":"Sco1V5TAstbAMi3s"}
{"name":"Nature's Ward","permission":{"default":0,"devnIbfBHb74U9Zv":3},"type":"feat","data":{"description":{"value":"<p>When you reach 10th level, you can't be charmed or frightened by elementals or fey, and you are immune to poison and disease.</p>","chat":"","unidentified":""},"source":"PHB pg. 69","activation":{"type":"","cost":0,"condition":""},"duration":{"value":"","units":""},"target":{"value":"","width":null,"units":"","type":""},"range":{"value":"","long":null,"units":""},"uses":{"value":0,"max":0,"per":null,"type":""},"consume":{"type":"","target":null,"amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Circle of the Land 10","recharge":{"value":null,"charged":false},"attributes":{"spelldc":10}},"flags":{"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}},"img":"systems/dnd5e/icons/skills/nature_02.jpg","effects":[{"_id":"RZ2jmcmhFX8uMrPN","flags":{"dae":{"stackable":false,"specialDuration":[],"macroRepeat":"none","transfer":true},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null,"alignment":"","type":"","save":"","savedc":null}},"changes":[{"key":"data.traits.ci.value","value":"diseased","mode":2,"priority":20},{"key":"data.traits.ci.value","value":"poisoned","mode":2,"priority":20},{"key":"data.traits.di.value","value":"poison","mode":2,"priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"systems/dnd5e/icons/skills/nature_02.jpg","label":"Nature's Ward","origin":"Item.UWivBxTGcLzlnY8G","tint":"","transfer":true}],"_id":"Td3v4mqUETTolcm0"}
{"_id":"VzPRAJvUrYCv1xo8","name":"Uncanny Dodge","type":"feat","img":"systems/dnd5e/icons/skills/armor_01.jpg","data":{"description":{"value":"<p>Starting at 5th level, when an attacker that you can see hits you with an attack, you can use your reaction to halve the attack's damage against you.</p>","chat":"","unidentified":""},"source":"PHB pg. 96","activation":{"type":"reaction","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Rogue 5","recharge":{"value":null,"charged":false}},"effects":[{"_id":"ksFos60cgn0TWTFP","changes":[{"key":"flags.midi-qol.uncanny-dodge","mode":5,"value":"1","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/armor_01.jpg","label":"1/2 Damage","origin":"Item.eEmSsq7xE3i0EyBS","transfer":false,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":["1Reaction"],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"data.abilities.cha.dc"}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.Mm64SKAHJWYecgXS"},"betterRolls5e":{"critRange":{"type":"String","value":null},"critDamage":{"type":"String","value":""},"quickDesc":{"type":"Boolean","value":true,"altValue":true},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickProperties":{"type":"Boolean","value":true,"altValue":true},"quickCharges":{"type":"Boolean","value":{"use":true,"resource":true,"charge":true},"altValue":{"use":true,"resource":true,"charge":true}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickOther":{"type":"Boolean","value":true,"altValue":true,"context":""},"quickFlavor":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}}}
{"_id":"bsSjL7k9wYycpHA8","name":"Banishment","type":"spell","img":"systems/dnd5e/icons/spells/link-eerie-3.jpg","data":{"description":{"value":"<p>You attempt to send one creature that you can see within range to another plane of existence. The target must succeed on a Charisma saving throw or be banished.</p>\n<p>If the target is native to the plane of existence you're on, you banish the target to a harmless demiplane. While there, the target is incapacitated. The target remains there until the spell ends, at which point the target reappears in the space it left or in the nearest unoccupied space if that space is occupied.</p>\n<p>If the target is native to a different plane of existence than the one you're on, the target is banished with a faint popping noise, returning to its home plane. If the spell ends before 1 minute has passed, the target reappears in the space it left or in the nearest unoccupied space if that space is occupied. Otherwise, the target doesn't return.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 5th level or higher, you can target one additional creature for each slot level above 4th.</p>","chat":"","unidentified":""},"source":"PHB pg. 217","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"cha","dc":16,"scaling":"spell","value":""},"level":4,"school":"abj","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":true},"materials":{"value":"An item distasteful to the target","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""}},"effects":[{"_id":"iufZU12yslQQSskX","flags":{"dae":{"transfer":false,"stackable":false,"specialDuration":[],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"alignment":"","type":"","aura":"None","radius":null,"save":"","savedc":null}},"changes":[{"key":"macro.itemMacro","value":"@target","mode":0,"priority":0}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/link-eerie-3.jpg","label":"Banishment","origin":"Actor.DMTSWfQs8whM5FtE.OwnedItem.cPJGG9KDdaYy3RTU","tint":null,"transfer":false}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"dynamiceffects":{"equipActive":true,"alwaysActive":false,"effects":[{"modSpecKey":"macro.execute","value":"Banishment @target","mode":"+","targetSpecific":false,"id":1,"itemId":"pz0vjFCdPtQkdKKQ","active":true,"_targets":[],"label":"Macro Execute"}]},"betterRolls5e":{"critRange":{"type":"String","value":null},"critDamage":{"type":"String","value":""},"quickDesc":{"type":"Boolean","value":true,"altValue":true},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickVersatile":{"type":"Boolean","value":false,"altValue":false},"quickProperties":{"type":"Boolean","value":true,"altValue":true},"quickCharges":{"type":"Boolean","value":{"use":false,"resource":false},"altValue":{"use":false,"resource":false}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickOther":{"type":"Boolean","value":true,"altValue":true,"context":""},"quickFlavor":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"dae":{"alwaysActive":false,"activeEquipped":true},"core":{"sourceId":"Item.BcZKJ53HIIPkOPeD"},"midi-qol":{"onUseMacroName":""},"itemacro":{"macro":{"data":{"_id":null,"name":"Banishment","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = canvas.tokens.get(args[1]);\n\nif (args[0] === \"on\") {\n    await target.update({hidden : true});\n    await target.actor.setFlag('world','banishment', 1);\n    ChatMessage.create({content: target.name + \"  was banished\"})\n    \n}\nif(args[0]=== \"off\") {\n target.update({hidden : false})\n target.actor.unsetFlag('world', 'banishment');\n ChatMessage.create({content: target.name + \"  returned\"})\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"favtab":{"isFavorite":false}}}
{"_id":"c9OSXfLd170kf3hS","name":"Fleet of Foot","type":"feat","img":"systems/dnd5e/icons/items/equipment/boots-plain.jpg","data":{"description":{"value":"<h3><p><small><em>Race: Wood Elf</em></small></p><p><p>Your base walking speed increase<span>s to 35 feet.</span></p></p>","chat":"","unidentified":""},"source":"","activation":{"type":"","cost":0,"condition":""},"duration":{"value":"","units":""},"target":{"value":"","width":null,"units":"","type":""},"range":{"value":"","long":null,"units":""},"uses":{"value":0,"max":0,"per":null,"type":""},"consume":{"type":"","target":null,"amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Race: Wood Elf","recharge":{"value":null,"charged":false},"featType":{"value":"","_deprecated":true},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"attributes":{"spelldc":10}},"effects":[{"_id":"xSoG3K2m1roXbzcS","flags":{"dae":{"transfer":true,"stackable":false,"specialDuration":[],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null}},"changes":[{"key":"data.attributes.movement.walk","value":"35","mode":4,"priority":5}],"disabled":false,"duration":{"startTime":null},"icon":"icons/svg/mystery-man.svg","label":"Fleet of Foot","origin":"Actor.ZaVJJWXkzU603fLE.OwnedItem.TtkLUp5AChMw5QLe","tint":null,"transfer":true}],"folder":null,"sort":0,"permission":{"default":0,"ZDFhNjE2NDMyYTY1":3},"flags":{"core":{"sheetClass":"dnd5e.DynamicItemSheet5e"},"dynamiceffects":{"effects":[{"modSpecKey":"data.attributes.speed.value","value":"35 ft","mode":"=","id":0,"itemId":"","active":false}],"alwaysActive":true,"equipActive":false},"dae":{"alwaysActive":true,"activeEquipped":false},"favtab":{"isFavorite":false},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"autoanimations":{"killAnim":false,"animLevel":false,"override":false,"animType":"t1","animName":"","bards":{"bardAnim":"a1","bardTarget":true,"bardTargetAnim":"a1","bardTargetColor":"a1","bardSelf":true,"marker":true,"markerColor":"a1","markerColorTarget":"a1"},"spellVar":"a1","hmAnim":"a1","rangedOptions":{"rangeDmgType":""},"color":"n1","spellOptions":{"spellLoops":1},"uaStrikeType":"physical","dtvar":"dt1","divineSmite":{"dsEnable":false,"dsSelf":true,"dsSelfDelay":0,"dsSelfColor":"a1","dsTarget":true,"dsTargetDelay":1250,"dsTargetColor":"a1"},"explosion":false,"exAnimLevel":false,"explodeVariant":"ev1","impactVar":"a1","explodeColor":"","explodeRadius":"0","explodeLoop":"1","allSounds":{"explosion":{"audioExplodeEnabled":false,"file":"","delay":100,"volume":0.25},"item":{"enableAudio":false,"file":"","delay":100,"volume":0.25}},"selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30,"templates":{"tempType":"a1","tempAnim":"","tempColor":"","tempLoop":1,"customAnim":false,"customPath":""}}}}
{"name":"Fey Ancestry","permission":{"default":0,"ZDFhNjE2NDMyYTY1":3},"type":"feat","data":{"description":{"value":"<p>You have advantage on saving throws against being charmed, and magic can’t put you to sleep.</p>","chat":"","unidentified":""},"source":"PHB pg. 23, 39","activation":{"type":"","cost":0,"condition":""},"duration":{"value":"","units":""},"target":{"value":"","width":null,"units":"","type":""},"range":{"value":"","long":null,"units":""},"uses":{"value":0,"max":0,"per":null,"type":""},"consume":{"type":"","target":null,"amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Elf, Half-Elf","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"attributes":{"spelldc":10}},"flags":{"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}},"img":"systems/dnd5e/icons/skills/green_13.jpg","effects":[{"_id":"xztigTbGnhDHw7of","flags":{"dae":{"stackable":false,"specialDuration":[],"macroRepeat":"none","transfer":true},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null}},"changes":[{"key":"data.traits.ci.value","value":"unconscious","mode":2,"priority":20},{"key":"data.traits.languages.value","value":"elvish","mode":2,"priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"systems/dnd5e/icons/skills/green_13.jpg","label":"Fey Ancestry","origin":"Item.NpbMHuHRuBS3ntJA","tint":"","transfer":true}],"_id":"cP5iLvmJGafqZOKB"}
{"_id":"eZnFVMfdwvxyynm4","name":"Emboldening Bond","type":"feat","img":"icons/magic/control/silhouette-hold-change-blue.webp","data":{"description":{"value":"<p>Emboldeing Bond is not SRD so you will need to populate the text.</p>\n<p><br />Implemented:<br />Rolling the feature gives targeted tokens an effec that grants a once off bonus at the start of their turn to add 1d4 to any attack/save.check and is then removed until the start of their next turn.</p>\n<p><br />Not implemented: <br />  removal when you use the feat again (would require concentration).</p>\n<p>   needing another bondee within 30 feet (would require active auras, but it all got too hard).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":""},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"","recharge":{"value":null,"charged":false}},"effects":[{"_id":"ZjUL6z2dhutiFxRk","changes":[{"key":"macro.itemMacro","mode":0,"value":"","priority":"20"}],"disabled":false,"duration":{"startTime":null,"seconds":600},"icon":"icons/magic/control/silhouette-hold-change-blue.webp","label":"Emboldening Bond","origin":"Item.Ey9NYAkSKTs0Kpva","transfer":false,"flags":{"dae":{"stackable":false,"macroRepeat":"startEveryTurn","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"midi-qol":{"onUseMacroName":""},"itemacro":{"macro":{"data":{"_id":null,"name":"Emboldening Bond","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"const effectData = {\n    changes: [\n        {key: \"flags.midi-qol.optional.emboldeningBond.attack\", mode: 5, value: \"1d4\", priority: \"20\"},\n        {key: \"flags.midi-qol.optional.emboldeningBond.save\", mode: 5, value: \"1d4\", priority: \"20\"},\n        {key: \"flags.midi-qol.optional.emboldeningBond.check\", mode: 5, value: \"1d4\", priority: \"20\"},\n        {key: \"flags.midi-qol.optional.emboldeningBond.label\", mode: 5, value: \"Emboldening Bond\", priority: \"20\"},\n    ],\n    disabled: false,\n    duration: {rounds: 1, seconds: undefined, startRound: undefined, startTime: undefined, startTurn: undefined, turns: undefined},\n    icon: \"icons/magic/control/silhouette-hold-change-blue.webp\",\n    label: \"Emboldening Bond Bonus\",\n    tint: null,\n    transfer: false,\n    flags: {dae : {specialDuration: [\"turnStart\"]}}\n}\n\n\nif (args[0] === \"each\" || args[0] === \"on\") {\n    token = await fromUuid(args[1].tokenUuid)\n    token.actor.createEmbeddedDocuments(\"ActiveEffect\", [effectData])\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.Ey9NYAkSKTs0Kpva"},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}}}
{"_id":"fDS4UcWTAl11FxqA","name":"Lucky (Recharge)","type":"feat","img":"systems/dnd5e/icons/skills/yellow_09.jpg","data":{"description":{"value":"<p>The Luck feat is not SRD so you will have to populate the description.</p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":1,"max":"1","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"1d6","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true}},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.lucky.attack","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.label","mode":5,"value":"Lucky","priority":"20"},{"key":"flags.midi-qol.optional.lucky.save","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.check","mode":5,"value":"reroll","priority":"20"},{"key":"flags.midi-qol.optional.lucky.count","mode":5,"value":"@resources.tertiary.value","priority":"20"},{"key":"data.resources.tertiary.label","mode":5,"value":"Luck Points","priority":"20"},{"key":"data.resources.tertiary.lr","mode":5,"value":"1","priority":"20"},{"key":"data.resources.tertiary.max","mode":5,"value":"3","priority":"20"},{"key":"flags.midi-qol.optional.lucky.skill","mode":5,"value":"reroll","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_09.jpg","label":"Lucky","origin":"Item.dQvh9dejF0s0d9nk","transfer":true,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":["data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.abilities.cha.dc","data.resources.tertiary.label","data.resources.tertiary.lr","data.resources.tertiary.max","data.abilities.cha.dc"]}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":""},"betterRolls5e":{"critRange":{"type":"String","value":null},"critDamage":{"type":"String","value":""},"quickDesc":{"type":"Boolean","value":true,"altValue":true},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickProperties":{"type":"Boolean","value":true,"altValue":true},"quickCharges":{"type":"Boolean","value":{"use":true,"resource":true,"charge":true},"altValue":{"use":true,"resource":true,"charge":true}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickOther":{"type":"Boolean","value":true,"altValue":true,"context":""},"quickFlavor":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"}}}
{"name":"Branding Smite","type":"spell","img":"systems/dnd5e/icons/spells/enchant-orange-2.jpg","data":{"description":{"value":"<p>The next time you hit a creature with a weapon attack before this spell ends, the weapon gleams with astral radiance as you strike. The attack deals an extra 2d6 radiant damage to the target, which becomes visible if it's invisible, and the target sheds dim light in a 5-foot radius and can't become invisible until the spell ends.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 3rd level or higher, the extra damage increases by 1d6 for each slot level above 2nd.</p>","chat":"","unidentified":""},"source":"PHB pg. 219","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":2,"school":"evo","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":true},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"level","formula":"1d6"},"attributes":{"spelldc":10}},"effects":[{"_id":"6hAZJkE4UfjO7Adp","changes":[{"key":"flags.dnd5e.DamageBonusMacro","mode":0,"value":"ItemMacro.Branding Smite","priority":"20"},{"key":"flags.midi-qol.brandingSmite.level","mode":5,"value":"@item.level","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/enchant-orange-2.jpg","label":"Branding Smite","origin":"Compendium.midi-qol.midiqol-sample-items.dlP9fWGo3ggfkOfm","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":["1Hit:mwak","1Hit:rwak"],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":["flags.dnd5e.DamageBonusMacro","data.abilities.cha.dc"]}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"midi-qol":{"onUseMacroName":""},"autoanimations":{"killAnim":false,"animLevel":false,"override":false,"animType":"t1","animName":"","bards":{"bardAnim":"a1","bardTarget":true,"bardTargetAnim":"a1","bardTargetColor":"a1","bardSelf":true,"marker":true,"markerColor":"a1","markerColorTarget":"a1"},"spellVar":"a1","hmAnim":"a1","rangedOptions":{"rangeDmgType":""},"color":"n1","spellOptions":{"spellLoops":1},"uaStrikeType":"physical","dtvar":"dt1","divineSmite":{"dsEnable":false,"dsSelf":true,"dsSelfDelay":0,"dsSelfColor":"a1","dsTarget":true,"dsTargetDelay":1250,"dsTargetColor":"a1"},"explosion":false,"exAnimLevel":false,"explodeVariant":"ev1","impactVar":"a1","explodeColor":"","explodeRadius":"0","explodeLoop":"1","allSounds":{"explosion":{"audioExplodeEnabled":false,"file":"","delay":100,"volume":0.25},"item":{"enableAudio":false,"file":"","delay":100,"volume":0.25}},"selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30,"templates":{"tempType":"a1","tempAnim":"","tempColor":"","tempLoop":1,"customAnim":false,"customPath":""}},"core":{"sourceId":"Item.Z2bmzJrSSmIZdOFp"},"itemacro":{"macro":{"data":{"_id":null,"name":"Branding Smite","type":"script","author":"g4WGw0lAZ3nIhapn","img":"icons/svg/dice-target.svg","scope":"global","command":"// v1.0. Requires midi-qol and ATL.\nif (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {}; \nfor (let tokenUuid of args[0].hitTargetUuids) {\n    const target = await fromUuid(tokenUuid);\n    const targetActor = target.actor;\n    if (!targetActor) continue;\n    // remvoe the invisible condition\n    const effect = targetActor?.effects.find(ef=> ef.data.label===game.i18n.localize(\"midi-qol.invisible\"));\n    if (effect) await MidiQOL.socket().executeAsGM(\"removeEffects\", {actorUuid: targetActor.uuid, effects:[effect.id]});\n    // create the dim light effect on the target\n    let bsEffect = new ActiveEffect({label: \"Branding Smite\", icon: \"systems/dnd5e/icons/spells/enchant-orange-2.jpg\", changes: [{value: 5, mode: CONST.ACTIVE_EFFECT_MODES.UPGRADE, priority: 20, key:\"ATL.dimLight\"}], duration: {seconds: 60}});\n    // 60 seconds is wrong - should look for the branding smite effect and use the remaining duration - but hey\n\n    await MidiQOL.socket().executeAsGM(\"createEffects\", {actorUuid: targetActor.uuid, effects: [bsEffect.toObject()]})\n}\nconst spellLevel = actor.data.flags[\"midi-qol\"].brandingSmite.level;\nreturn{damageRoll: `${spellLevel}d6[radiant]`, flavor: \"Branding Smite\"}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}},"_id":"fqizOCaDxg0AceuQ"}
{"name":"Shillelagh","type":"spell","img":"systems/dnd5e/icons/spells/enchant-jade-1.jpg","data":{"description":{"value":"<p>The wood of a club or quarterstaff you are holding is imbued with nature's power. For the duration, you can use your spellcasting ability instead of Strength for the attack and damage rolls of melee attacks using that weapon, and the weapon's damage die becomes a d8. The weapon also becomes magical, if it isn't already. The spell ends if you cast it again or if you let go of the weapon.</p>","chat":"","unidentified":""},"source":"PHB pg. 275","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"trs","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":false},"materials":{"value":"A shamrock leaf, and a club or quarterstaff","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"always","prepared":false},"scaling":{"mode":"none","formula":""},"attributes":{"spelldc":10}},"effects":[{"_id":"x3I3PP0wLDynd8JN","flags":{"dae":{"transfer":false,"stackable":false,"specialDuration":[],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null}},"changes":[{"key":"macro.itemMacro","value":"","mode":0,"priority":0}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/enchant-jade-1.jpg","label":"Shillelagh","origin":"Actor.ZaVJJWXkzU603fLE.OwnedItem.vtUhpbyJYzB2J9ok","tint":null,"transfer":false}],"folder":null,"sort":0,"permission":{"default":0,"ZDFhNjE2NDMyYTY1":3},"flags":{"dynamiceffects":{"equipActive":false,"alwaysActive":false,"effects":[{"modSpecKey":"macro.execute","value":"Shillelagh @target","mode":"+","targetSpecific":false,"id":1,"itemId":"HgYH1Eb3LQ19tsjJ","active":true,"_targets":[],"label":"Macro Execute"}]},"itemacro":{"macro":{"data":{"_id":null,"name":"Shillelagh","type":"script","author":"ZDFhNjE2NDMyYTY1","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length - 1];\nlet tactor;\ntactor = MidiQOL.MQfromActorUuid(lastArg.actorUuid);\nlet weapons = tactor.items.filter(i => i.data.type === `weapon`);\nlet weapon_content = ``;\ndebugger;\nfor (let weapon of weapons) {\n    weapon_content += `<option value=${weapon.id}>${weapon.name}</option>`;\n}\nif (args[0] === \"on\") {\n    let content = `\n<div class=\"form-group\">\n  <label>Weapons : </label>\n  <select name=\"weapons\">\n    ${weapon_content}\n  </select>\n</div>`;\n\n    new Dialog({\n        title: \"Choose a club or quarterstaff\",\n        content,\n        buttons:\n        {\n            Ok:\n            {\n                label: `Ok`,\n                callback: (html) => {\n                    let itemId = html.find('[name=weapons]')[0].value;\n                    let weaponItem = tactor.items.get(itemId);\n                    let copy_item = duplicate(weaponItem.toObject());\n                    DAE.setFlag(tactor, `shillelagh`, {\n                        id : itemId,\n                        damage : copy_item.data.damage.parts[0][0]    \n                    });\n                    let damage = copy_item.data.damage.parts[0][0];\n                    var newdamage = damage.replace(/1d(4|6)/g,\"1d8\");\n                    copy_item.data.damage.parts[0][0] = newdamage;\n                    copy_item.data.ability = \"wis\";\n                    tactor.updateEmbeddedDocuments(\"Item\", [copy_item]);\n                    ChatMessage.create({content: copy_item.name + \" is empowered\"});\n                }\n            },\n            Cancel:\n            {\n                label: `Cancel`\n            }\n        }\n    }).render(true);\n}\n\nif (args[0] === \"off\") {\n    let flag = DAE.getFlag(tactor, `shillelagh`);\n    let weaponItem = tactor.items.get(flag.id);\n    let copy_item = duplicate(weaponItem.toObject());\n    copy_item.data.damage.parts[0][0] = flag.damage;\n    copy_item.data.ability = \"\";\n    await tactor.updateEmbeddedDocuments(\"Item\", [copy_item]);\n    DAE.unsetFlag(tactor, `shillelagh`);\n    ChatMessage.create({content: copy_item.name + \" returns to normal\"});\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"dae":{"migrated":true},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"n1","uaStrikeType":"physical","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"ec1","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30},"favtab":{"isFavorite":true},"core":{"sourceId":"Item.qUrSuOAn8P3c9Jue"}},"_id":"fuAqsYvnGZMH953u"}
{"name":"Devil's Glaive","type":"weapon","img":"systems/dnd5e/icons/items/weapons/glaive.png","data":{"description":{"value":"Melee Weapon Attack: +5 to hit, reach 10 ft., one target. Hit: 8 (1d10 + 3) slashing damage. If the target is a creature other than an undead or a construct, it must succeed on a DC 12 Constitution saving throw or lose 5 (1d10) hit points at the start of each of its turns due to an infernal wound. Each time the devil hits the wounded target with this attack, the damage dealt by the wound increases by 5 (1d10). Any creature can take an action to stanch the wound with a successful DC 12 Wisdom (Medicine) check. The wound also closes if the target receives magical healing.","chat":"If the target is a creature other than an undead or a construct, it must succeed on a DC 12 Constitution saving throw or lose 5 (1d10) hit points at the start of each of its turns due to an infernal wound. Each time the devil hits the wounded target with this attack, the damage dealt by the wound increases by 5 (1d10). Any creature can take an action to stanch the wound with a successful DC 12 Wisdom (","unidentified":"Glaive"},"source":"","quantity":1,"weight":0,"price":0,"attuned":false,"attunement":0,"equipped":false,"rarity":"Common","identified":true,"activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":10,"long":5,"units":""},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"str","actionType":"mwak","attackBonus":"0","chatFlavor":"","critical":null,"damage":{"parts":[["1d10 + 3","slashing"]],"versatile":""},"formula":"","save":{"ability":"con","dc":18,"scaling":"flat"},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"weaponType":"simpleM","properties":{"amm":false,"fin":false,"fir":false,"hvy":false,"lgt":false,"rch":true,"rel":false,"spc":false,"thr":false,"two":false,"ver":false,"ada":false,"foc":false,"lod":false,"mgc":false,"ret":false,"sil":false,"nodam":false,"fulldam":false,"halfdam":false},"proficient":true,"recharge":{"value":null,"charged":true},"attributes":{"spelldc":10}},"effects":[{"_id":"il6f3OO3maUs5M5v","changes":[{"key":"macro.itemMacro","mode":0,"value":"","priority":"20"}],"disabled":false,"duration":{"rounds":99,"startTime":null},"icon":"systems/dnd5e/icons/items/weapons/glaive.png","label":"Infernal Wound","origin":"Item.kf96pgVLAhXy7RsX","transfer":false,"flags":{"dae":{"stackable":"count","macroRepeat":"startEveryTurn","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"midi-qol":{"onUseMacroName":""},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"dae":{"activeEquipped":false,"alwaysActive":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Devil's Glaive","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"console.error(\"args\", ...args);\nconst lastArg = args[args.length-1];\n\nif (args[0] === \"on\") {\n} else if (args[0] === \"each\") {\n    let tactor;\n    let ttoken = await fromUuid(lastArg.tokenUuid);\n    const item = await fromUuid(lastArg.origin)\n    if (ttoken) tactor = ttoken.actor;\n    const woundCount = getProperty(lastArg.efData, \"flags.dae.stacks\") || 1;\n    let damageRoll = new Roll(`${woundCount}d10[necrotic]`).roll(); // could be argument\n    new MidiQOL.DamageOnlyWorkflow(tactor, ttoken, damageRoll.total, \"necrotic\", [ttoken], damageRoll, {flavor: `Bleeding damage for ${item.name}`, itemData: item.data.toObject(), itemCardId: \"new\", useOther: true})\n} else if (args[0] === \"off\") {\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.0AgqaCUkEyZCbC5Y"},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"n1","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"ec1","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false},"favtab":{"isFavorite":false}},"_id":"jaCxDAN1MKU100eE"}
{"name":"Slayer's Prey","permission":{"default":0,"devnIbfBHb74U9Zv":3},"type":"feat","data":{"description":{"value":"","chat":"","unidentified":""},"source":"","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"hour"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":90,"long":90,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"1d6","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"","recharge":{"value":null,"charged":false},"attributes":{"spelldc":10}},"flags":{"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"midi-qol":{"onUseMacroName":"ItemMacro"},"itemacro":{"macro":{"_data":{"name":"Slayer's Prey","type":"script","scope":"global","command":"// Sample Slayers prey\nif (args[0].hitTargets.length === 0) return;\nif (args[0].tag === \"OnUse\") {\n    let target = args[0].hitTargets[0]._id;\n    let actorId = args[0].actor._id; // actor who cast the spell\n    actor = game.actors.get(actorId);\n    if (!actor || !target) {\n      console.error(\"Slaters's Prey: no token/target selected\");\n      return;\n    }\n    \n    // First remove the old effects from the target and ourselves \n    let item = actor.items.get(args[0].id);\n\n    // have to remove the effect from old target if we are changing targets\n    let oldTarget = getProperty(actor.data, \"flags.midi-qol.slayersPrey\");\n    DAE.deleteActiveEffect(oldTarget, item.uuid)\n\n    // now remove it from ourselves\n    let effect = actor.effects.find(e=>e.data.origin===item.uuid);\n    console.error(\"Effect is \", effect)\n    if (effect) await actor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n\n    const effectData = {\n      changes: [\n        {key: \"flags.midi-qol.slayersPrey\", mode: 5, value: target, priority: 20}, // who is marked\n        {key: \"flags.dnd5e.DamageBonusMacro\", mode: 5, value: `ItemMacro.${args[0].item.name}`, priority: 20}, // macro to apply the damage\n      ],\n      origin: args[0].uuid, //flag the effect as associated to the spell being cast\n      disabled: false,\n      duration: args[0].item.effects[0].duration,\n      icon: args[0].item.img,\n      label: args[0].item.name\n    }\n    await actor.createEmbeddedEntity(\"ActiveEffect\", effectData);\n} else if (args[0].tag === \"DamageBonus\") {\n    if (args[0].hitTargets.length === 0) return;\n    let targetId = args[0].hitTargets[0]._id;\n    // only weapon attacks\n    if (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {};\n    // only on the marked target\n    if (targetId !== getProperty(args[0].actor.flags, \"midi-qol.slayersPrey\")) return {};\n    let damageType = args[0].item.data.damage.parts[0][1];\n    return {damageRoll: `1d6[${damageType}]`, flavor: \"Slayers Prey Damage\"}\n}","author":"devnIbfBHb74U9Zv"},"data":{"name":"Slayer's Prey","type":"script","scope":"global","command":"// Sample Slayers prey\nif (args[0].hitTargets.length === 0) return;\nif (args[0].tag === \"OnUse\") {\n    let target = args[0].hitTargets[0]._id;\n    let actorId = args[0].actor._id; // actor who cast the spell\n    actor = game.actors.get(actorId);\n    if (!actor || !target) {\n      console.error(\"Slaters's Prey: no token/target selected\");\n      return;\n    }\n    \n    // First remove the old effects from the target and ourselves \n    let item = actor.items.get(args[0].id);\n\n    // have to remove the effect from old target if we are changing targets\n    let oldTarget = getProperty(actor.data, \"flags.midi-qol.slayersPrey\");\n    DAE.deleteActiveEffect(oldTarget, item.uuid)\n\n    // now remove it from ourselves\n    let effect = actor.effects.find(e=>e.data.origin===item.uuid);\n    console.error(\"Effect is \", effect)\n    if (effect) await actor.deleteEmbeddedEntity(\"ActiveEffect\", effect.id);\n\n    const effectData = {\n      changes: [\n        {key: \"flags.midi-qol.slayersPrey\", mode: 5, value: target, priority: 20}, // who is marked\n        {key: \"flags.dnd5e.DamageBonusMacro\", mode: 5, value: `ItemMacro.${args[0].item.name}`, priority: 20}, // macro to apply the damage\n      ],\n      origin: args[0].uuid, //flag the effect as associated to the spell being cast\n      disabled: false,\n      duration: args[0].item.effects[0].duration,\n      icon: args[0].item.img,\n      label: args[0].item.name\n    }\n    await actor.createEmbeddedEntity(\"ActiveEffect\", effectData);\n} else if (args[0].tag === \"DamageBonus\") {\n    if (args[0].hitTargets.length === 0) return;\n    let targetId = args[0].hitTargets[0]._id;\n    // only weapon attacks\n    if (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {};\n    // only on the marked target\n    if (targetId !== getProperty(args[0].actor.flags, \"midi-qol.slayersPrey\")) return {};\n    let damageType = args[0].item.data.damage.parts[0][1];\n    return {damageRoll: `1d6[${damageType}]`, flavor: \"Slayers Prey Damage\"}\n}","author":"devnIbfBHb74U9Zv"},"options":{},"apps":{},"compendium":null}},"core":{"sourceId":"Item.gDJIoRL1J8BzIr3y"},"favtab":{"isFavorite":false}},"img":"systems/dnd5e/icons/skills/arrow_03.jpg","effects":[{"_id":"4YzIMnzXG4F9fNLa","flags":{"dae":{"stackable":false,"macroRepeat":"none","transfer":false},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"alignment":"","type":"","aura":"None","radius":null,"save":"","savedc":null,"hostile":false,"onlyOnce":false,"time":"None"}},"changes":[],"disabled":false,"duration":{"startTime":null,"seconds":3600,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"systems/dnd5e/icons/skills/arrow_03.jpg","label":"Marked","origin":"Actor.bZz0UNijKQidTQEV.OwnedItem.gDJIoRL1J8BzIr3y","tint":"","transfer":false}],"_id":"ne6mykbkOEID7Gsa"}
{"name":"Bardic Inspiration MQ/DND1.6","type":"feat","img":"icons/skills/melee/unarmed-punch-fist.webp","data":{"description":{"value":"<p>You can inspire others through stirring words or music. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Bardic Inspiration die, a d6. Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Bardic Inspiration die, but must decide before the GM says whether the roll succeeds or fails. Once the Bardic Inspiration die is rolled, it is lost. A creature can have only one Bardic Inspiration die at a time.</p>\n<p>You can use this feature a number of times equal to your Charisma modifier (a minimum of once).</p>\n<p>You regain any expended uses when you finish a long rest.</p>\n<p>Your Bardic Inspiration die changes when you reach certain levels in this class. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level.</p>\n<p><em>**Midi-qol note: The Other Formula is removed as it is not  required<br /> Additionally, recovery is set to long rest (for levels before @Compendium[dnd5e.classfeatures.3VDZGs5Ug3hIE322]{Font of Inspiration} is gained). Please manually adjust as required.</em></p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":2,"max":"max(1, @abilities.cha.mod)","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":null},"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true},"attunement":null},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.BardicInspiration.attack.all","mode":5,"value":"1@scale.bard.inspiration","priority":"20"},{"key":"flags.midi-qol.optional.BardicInsiration.save.all","mode":5,"value":"1@scale.bard.inspiration","priority":"20"},{"key":"flags.midi-qol.optional.BardicInspiration.check.all","mode":5,"value":"1@scale.bard.inspiration","priority":"20"},{"key":"flags.midi-qol.optional.BardicInspiration.label","mode":5,"value":"Bardic Inspiration","priority":"20"},{"key":"flags.midi-qol.optional.BardicInspiration.skill.all","mode":2,"value":"1@scale.bard.inspiration","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Inspired","origin":"Item.dQvh9dejF0s0d9nk","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false,"durationExpression":""},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false,"displayTemp":false},"core":{"statusId":""},"dnd5e-helpers":{"rest-effect":"Ignore"}},"tint":null,"selectedKey":["__","__","__","__","__"]}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3,"devnIbfBHb74U9Zv":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":"","effectActivation":false,"forceCEOff":true,"forceCEOn":false},"betterRolls5e":{"quickOther":{"context":"","value":true,"altValue":true},"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true},"quickCharges":{"value":{"use":true},"altValue":{"use":true}}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"cf":null,"favtab":{"isFavorite":true},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"scene-packer":{"sourceId":"Item.ML5UhUUNGdiQNYDT","hash":"db37a516bbbf6eaccd604a0a431c46516f19c9e3"}},"_id":"pRvOZt1hBhlc0Rmc"}
{"_id":"qSABZ8Fb2ymrlKzg","name":"Bardic Inspiration (Valor)","type":"feat","img":"systems/dnd5e/icons/skills/yellow_08.jpg","data":{"description":{"value":"<p>You can inspire others through stirring words or music. To do so, you use a bonus action on your turn to choose one creature other than yourself within 60 feet of you who can hear you. That creature gains one Bardic Inspiration die, a d6. Once within the next 10 minutes, the creature can roll the die and add the number rolled to one ability check, attack roll, or saving throw it makes. The creature can wait until after it rolls the d20 before deciding to use the Bardic Inspiration die, but must decide before the GM says whether the roll succeeds or fails. Once the Bardic Inspiration die is rolled, it is lost. A creature can have only one Bardic Inspiration die at a time.</p>\n<p>You can use this feature a number of times equal to your Charisma modifier (a minimum of once).</p>\n<p>You regain any expended uses when you finish a long rest.</p>\n<p>Your Bardic Inspiration die changes when you reach certain levels in this class. The die becomes a d8 at 5th level, a d10 at 10th level, and a d12 at 15th level.</p>\n<p><em>**Midi-qol note: The Other Formula is removed as it is not  required<br /> Additionally, recovery is set to long rest (for levels before @Compendium[dnd5e.classfeatures.3VDZGs5Ug3hIE322]{Font of Inspiration} is gained). Please manually adjust as required.</em></p>","chat":"","unidentified":""},"source":"PHB pg. 53","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":2,"max":"5","per":"lr","type":"lr"},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Bard 1","recharge":{"value":null,"charged":false},"featType":{"value":"ability","_deprecated":true,"type":"String","label":"Feat Type"},"time":{"value":"","_deprecated":true},"damageType":{"value":"","_deprecated":true}},"effects":[{"_id":"GrZ2AlujZEWCppJt","changes":[{"key":"flags.midi-qol.optional.bardicInspiration.attack.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.save.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.check.all","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.label","mode":5,"value":"Bardic Inspiration","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.damage","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.ac","mode":5,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"},{"key":"flags.midi-qol.optional.bardicInspiration.skill.all","mode":2,"value":"1d@flags.dae.BardicInspirationDice","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Inspired","origin":"Item.dQvh9dejF0s0d9nk","transfer":false,"flags":{"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false,"durationExpression":""},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false,"displayTemp":false},"core":{"statusId":""},"dnd5e-helpers":{"rest-effect":"Ignore"}},"tint":null,"selectedKey":["__","__","__","__","__","__","__"]},{"_id":"E4t1UpMBxMNjDXAk","changes":[{"key":"flags.dae","mode":0,"value":"BardicInspirationDice (floor(@classes.bard.levels/5)+3) * 2","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/yellow_08.jpg","label":"Bardic Inspiration Dice","origin":"Item.qf4KSRUeFqSoP8fs","transfer":true,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"flags.dae"}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.classfeatures.hpLNiGq7y67d2EHA"},"midi-qol":{"onUseMacroName":"","effectActivation":false},"betterRolls5e":{"quickOther":{"context":"","value":true,"altValue":true},"critRange":{"value":null},"critDamage":{"value":""},"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true},"quickCharges":{"value":{"use":true},"altValue":{"use":true}}},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"Legendary Resistance","type":"feat","img":"systems/dnd5e/icons/skills/weapon_18.jpg","data":{"description":{"value":"<div class=\"rd__b  rd__b--3\"><p>If the dragon fails a saving throw, it can choose to succeed instead.</p><div class=\"rd__spc-inline-post\"></div></div>","chat":"","unidentified":""},"source":"MM","activation":{"type":"none","cost":0,"condition":"If the dragon fails a saving throw, it can choose to succeed instead."},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":3,"max":"3","per":"day"},"consume":{"type":"attribute","target":"","amount":1},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"flat"},"requirements":"","recharge":{"value":null,"charged":false}},"effects":[{"_id":"FniO7deC5cNc9vuy","changes":[{"key":"flags.midi-qol.optional.LegRes.save","mode":5,"value":"success","priority":"20"},{"key":"flags.midi-qol.optional.LegRes.count","mode":5,"value":"@resources.legres.value","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/weapon_18.jpg","label":"Legendary Resistance","origin":"Item.rO1EWt1SPvUJg7k3","transfer":true,"flags":{"dae":{"stackable":false,"macroRepeat":"none","specialDuration":[],"transfer":true},"ActiveAuras":{"isAura":false,"radius":null,"aura":"None","alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":["data.abilities.cha.dc","data.abilities.cha.dc"]}],"folder":null,"sort":0,"permission":{"default":0,"g4WGw0lAZ3nIhapn":3},"flags":{"betterRolls5e":{"critRange":{"type":"String","value":""},"critDamage":{"type":"String","value":""},"quickDesc":{"type":"Boolean","value":true,"altValue":true},"quickAttack":{"type":"Boolean","value":true,"altValue":true},"quickSave":{"type":"Boolean","value":true,"altValue":true},"quickDamage":{"type":"Array","value":[],"altValue":[],"context":[]},"quickProperties":{"type":"Boolean","value":true,"altValue":true},"quickCharges":{"type":"Boolean","value":{"use":true,"resource":true,"charge":false},"altValue":{"use":true,"resource":true,"charge":false}},"quickTemplate":{"type":"Boolean","value":true,"altValue":true},"quickOther":{"type":"Boolean","value":true,"altValue":true,"context":""},"quickFlavor":{"type":"Boolean","value":true,"altValue":true},"quickPrompt":{"type":"Boolean","value":false,"altValue":false}},"midi-qol":{"onUseMacroName":""},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"core":{"sourceId":"Item.rO1EWt1SPvUJg7k3"}},"_id":"rdPhlAMO9wP6okMu"}
{"_id":"uvRQayOyn61L6vOV","name":"Auto Sneak Attack","type":"feat","img":"systems/dnd5e/icons/skills/violet_27.jpg","data":{"description":{"value":"<p>Adding this feature to an actor will cause Sneak Attack to be auto used at the first opportunity, rather than showing a confirmation dialog.</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":""},"range":{"value":null,"long":null,"units":""},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"","recharge":{"value":null,"charged":false}},"effects":[{"_id":"B9dVucVVEOX26bAy","flags":{"dae":{"stackable":false,"specialDuration":[],"macroRepeat":"none","transfer":true},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"alignment":"","type":"","aura":"None","radius":null,"save":"","savedc":null}},"changes":[{"key":"flags.dae","value":"autoSneak 1","mode":0,"priority":10}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/violet_27.jpg","label":"Atuo Sneak Attack","origin":"Item.Dnn0xuVqFSATQipk","tint":null,"transfer":true}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"favtab":{"isFavorite":false},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"n1","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"ec1","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false}}}
{"_id":"v5JFjWOfuCazgWm5","name":"Dragon Slayer Longsword","type":"weapon","img":"systems/dnd5e/icons/skills/weapon_06.jpg","data":{"description":{"value":"<p><em>(Requires attunement)</em></p>\n<p>You gain a +1 bonus to attack and damage rolls made with this magic weapon.</p>\n<p>When you hit a dragon with this weapon, the dragon takes an extra 3d6 damage of the weapon's type. For the purpose of this weapon, \"dragon\" refers to any creature with the dragon type, including dragon turtles and wyverns.</p>","chat":"","unidentified":""},"source":"DMG pg. 166","quantity":1,"weight":3,"price":8000,"attuned":false,"attunement":2,"equipped":true,"rarity":"Rare","identified":true,"activation":{"type":"action","cost":1,"condition":""},"duration":{"value":0,"units":""},"target":{"value":0,"width":null,"units":"","type":""},"range":{"value":5,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"mwak","attackBonus":"1","chatFlavor":"","critical":null,"damage":{"parts":[["1d8 + @mod +1","slashing"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"weaponType":"martialM","properties":{"amm":false,"hvy":false,"fin":false,"fir":false,"foc":false,"lgt":false,"lod":false,"rch":false,"rel":false,"ret":false,"spc":false,"thr":false,"two":false,"ver":true,"ada":false,"mgc":true,"sil":false,"nodam":false,"fulldam":false,"halfdam":false},"proficient":true,"attributes":{"spelldc":10}},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.items.SXjs8JghAPBv7d6j"},"midi-qol":{"onUseMacroName":"ItemMacro"},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"data":{"_id":null,"name":"Dragon Slayer Longsword","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"// v1.0\nif (![\"mwak\"].includes(args[0].item.data.actionType)) return {}; // weapon attack\nif (args[0].hitTargets.length < 1) return {};\nactor = await fromUuid(args[0].actorUuid);\nlet target = await fromUuid(args[0].hitTargetUuids[0]);\nif (!actor || !target) return {};\nconst isDragon = [\"dragon\"].some(type => (target?.actor.data.data.details.type?.value || \"\").toLowerCase().includes(type));\nconsole.error(target.actor.data.data.details.type)\nif (!isDragon) return {};\nconst diceMult = args[0].isCritical ? 2: 1;\nconst numDice = 3 * diceMult;\nconst damageRoll = await (new Roll(`${numDice}d6`)).roll()\nnew MidiQOL.DamageOnlyWorkflow(actor, token, damageRoll.total, null, target ? [target] : [], damageRoll, {flavor: \"Dragon Slayer\", itemCardId: args[0].itemCardId})","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}}}
{"_id":"vrxCGZS3a7tLFhso","name":"Sneak Attack","type":"feat","img":"systems/dnd5e/icons/skills/violet_27.jpg","data":{"description":{"value":"<p>Beginning at 1st level, you know how to strike subtly and exploit a foe's distraction. Once per turn, you can deal an extra [[/r 1d6]] damage to one creature you hit with an attack if you have advantage on the attack roll. The attack must use a finesse or a ranged weapon.</p>\n<p>You don't need advantage on the attack roll if another enemy of the target is within 5 feet of it, that enemy isn't&nbsp;<a href=\"https://5e.tools/conditionsdiseases.html#incapacitated_phb\">incapacitated</a>, and you don't have disadvantage on the attack roll.</p>\n<p>The amount of the extra damage increases as you gain levels in this class, as shown in the Sneak Attack column of the Rogue table.</p>\n<p>&nbsp;</p>\n<p>V1.0</p>","chat":"","unidentified":""},"source":"PHB","activation":{"type":"special","cost":0,"condition":""},"duration":{"value":24,"units":"hour"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Rogue 1","recharge":{"value":null,"charged":false},"armor":{"value":10},"hp":{"value":0,"max":0,"dt":null,"conditions":""},"properties":{},"attributes":{"spelldc":10}},"effects":[{"_id":"Ns5pHr7gcYPTJ7HU","flags":{"dae":{"stackable":false,"transfer":true,"specialDuration":[],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null,"alignment":"","type":"","save":"","savedc":null}},"changes":[{"key":"flags.dnd5e.DamageBonusMacro","mode":0,"value":"ItemMacro.Sneak Attack","priority":"30"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/skills/violet_27.jpg","label":"Sneak Attack","origin":"Actor.DMTSWfQs8whM5FtE.OwnedItem.Phll73Y1o1t6Park","tint":null,"transfer":true,"selectedKey":"flags.dnd5e.DamageBonusMacro"}],"folder":null,"sort":0,"permission":{"default":0,"devnIbfBHb74U9Zv":3},"flags":{"dae":{"activeEquipped":false,"alwaysActive":false},"exportSource":{"world":"storm-kings-thunder","system":"dnd5e","coreVersion":"0.7.9","systemVersion":"1.2.3"},"magicitems":{"enabled":false,"equipped":false,"attuned":false,"charges":"0","chargeType":"c1","destroy":false,"destroyFlavorText":"reaches 0 charges: it crumbles into ashes and is destroyed.","rechargeable":false,"recharge":"0","rechargeType":"t1","rechargeUnit":"r1","sorting":"l"},"itemacro":{"macro":{"_data":{"name":"Sneak Attack","type":"script","scope":"global","command":"// v1.0\nif (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {}; // weapon attack\nif (args[0].item.data.actionType === \"mwak\" && !args[0].item.data.properties?.fin) \n  return {}; // ranged or finesse\nif (args[0].hitTargets.length < 1) return {};\ntoken = canvas.tokens.get(args[0].tokenId);\nactor = token.actor;\nif (!actor || !token || args[0].hitTargets.length < 1) return {};\nconst rogueLevels = actor.getRollData().classes.rogue?.levels;\nif (!rogueLevels) {\n  MidiQOL.warn(\"Sneak Attack Damage: Trying to do sneak attack and not a rogue\");\n  return {}; // rogue only\n}\nlet target = canvas.tokens.get(args[0].hitTargets[0]._id);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime === lastTime) {\n   MidiQOL.warn(\"Sneak Attack Damage: Already done a sneak attack this turn\");\n   return {};\n  }\n}\nlet foundEnemy = true;\nlet isSneak = args[0].advantage;\nif (!isSneak) {\n  foundEnemy = false;\n  let nearbyEnemy = canvas.tokens.placeables.filter(t => {\n    let nearby = (t.actor &&\n         t.actor?.id !== args[0].actor._id && // not me\n         t.id !== target.id && // not the target\n         t.actor?.data.data.attributes?.hp?.value > 0 && // not incapacitated\n         t.data.disposition !== target.data.disposition && // not an ally\n         MidiQOL.getDistance(t, target, false) <= 5 // close to the target\n     );\n    foundEnemy = foundEnemy || (nearby && t.data.disposition === -target.data.disposition)\n    return nearby;\n  });\n  isSneak = nearbyEnemy.length > 0;\n}\nif (!isSneak) {\n  MidiQOL.warn(\"Sneak Attack Damage: No advantage/ally next to target\");\n  return {};\n}\nlet useSneak = actor.data.flags.dae?.autoSneak;\nif (!useSneak) {\n    let dialog = new Promise((resolve, reject) => {\n      new Dialog({\n      // localize this text\n      title: \"Conditional Damage\",\n      content: `<p>Use Sneak attack?</p>`+(!foundEnemy ? \"<p>Only Nuetral creatures nearby</p>\" : \"\"),\n      buttons: {\n          one: {\n              icon: '<i class=\"fas fa-check\"></i>',\n              label: \"Confirm\",\n              callback: () => resolve(true)\n          },\n          two: {\n              icon: '<i class=\"fas fa-times\"></i>',\n              label: \"Cancel\",\n              callback: () => {resolve(false)}\n          }\n      },\n      default: \"two\"\n      }).render(true);\n    });\n    useSneak = await dialog;\n}\nif (!useSneak) return {}\nconst diceMult = args[0].isCritical ? 2: 1;\nconst baseDice = Math.ceil(rogueLevels/2);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime !== lastTime) {\n     setProperty(token.data.flags, \"midi-qol.sneakAttackTime\", combatTime)\n  }\n}\n\n// How to check that we've already done one this turn?\nreturn {damageRoll: `${baseDice * diceMult}d6`, flavor: \"Sneak Attack\"};","author":"devnIbfBHb74U9Zv"},"data":{"name":"Sneak Attack","type":"script","scope":"global","command":"// v1.0\nif (![\"mwak\",\"rwak\"].includes(args[0].item.data.actionType)) return {}; // weapon attack\nif (args[0].item.data.actionType === \"mwak\" && !args[0].item.data.properties?.fin) \n  return {}; // ranged or finesse\nif (args[0].hitTargets.length < 1) return {};\ntoken = canvas.tokens.get(args[0].tokenId);\nactor = token.actor;\nif (!actor || !token || args[0].hitTargets.length < 1) return {};\nconst rogueLevels = actor.getRollData().classes.rogue?.levels;\nif (!rogueLevels) {\n  MidiQOL.warn(\"Sneak Attack Damage: Trying to do sneak attack and not a rogue\");\n  return {}; // rogue only\n}\nlet target = canvas.tokens.get(args[0].hitTargets[0]._id);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime === lastTime) {\n   MidiQOL.warn(\"Sneak Attack Damage: Already done a sneak attack this turn\");\n   return {};\n  }\n}\nlet foundEnemy = true;\nlet isSneak = args[0].advantage;\nif (!isSneak) {\n  foundEnemy = false;\n  let nearbyEnemy = canvas.tokens.placeables.filter(t => {\n    let nearby = (t.actor &&\n         t.actor?.id !== args[0].actor._id && // not me\n         t.id !== target.id && // not the target\n         t.actor?.data.data.attributes?.hp?.value > 0 && // not incapacitated\n         t.data.disposition !== target.data.disposition && // not an ally\n         MidiQOL.getDistance(t, target, false) <= 5 // close to the target\n     );\n    foundEnemy = foundEnemy || (nearby && t.data.disposition === -target.data.disposition)\n    return nearby;\n  });\n  isSneak = nearbyEnemy.length > 0;\n}\nif (!isSneak) {\n  MidiQOL.warn(\"Sneak Attack Damage: No advantage/ally next to target\");\n  return {};\n}\nlet useSneak = actor.data.flags.dae?.autoSneak;\nif (!useSneak) {\n    let dialog = new Promise((resolve, reject) => {\n      new Dialog({\n      // localize this text\n      title: \"Conditional Damage\",\n      content: `<p>Use Sneak attack?</p>`+(!foundEnemy ? \"<p>Only Nuetral creatures nearby</p>\" : \"\"),\n      buttons: {\n          one: {\n              icon: '<i class=\"fas fa-check\"></i>',\n              label: \"Confirm\",\n              callback: () => resolve(true)\n          },\n          two: {\n              icon: '<i class=\"fas fa-times\"></i>',\n              label: \"Cancel\",\n              callback: () => {resolve(false)}\n          }\n      },\n      default: \"two\"\n      }).render(true);\n    });\n    useSneak = await dialog;\n}\nif (!useSneak) return {}\nconst diceMult = args[0].isCritical ? 2: 1;\nconst baseDice = Math.ceil(rogueLevels/2);\nif (game.combat) {\n  let combatTime = game.combat.round + game.combat.turn /100;\n  let lastTime = getProperty(token.data.flags, \"midi-qol.sneakAttackTime\");\n  if (combatTime !== lastTime) {\n     setProperty(token.data.flags, \"midi-qol.sneakAttackTime\", combatTime)\n  }\n}\n\n// How to check that we've already done one this turn?\nreturn {damageRoll: `${baseDice * diceMult}d6`, flavor: \"Sneak Attack\"};","author":"devnIbfBHb74U9Zv"},"options":{},"apps":{},"compendium":null}},"betterRolls5e":{"critRange":{"value":null},"critDamage":{"value":""},"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickOther":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true}},"core":{"sourceId":"Item.bhuz5hzr0YsHJd1N"},"favtab":{"isFavorite":false},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"a1","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"animLevel":false,"bards":{"bardAnim":"a1","bardTarget":true,"bardTargetAnim":"a1","bardTargetColor":"a1","bardSelf":true,"marker":true,"markerColor":"a1","markerColorTarget":"a1"},"spellVar":"a1","rangedOptions":{"rangeDmgType":""},"spellOptions":{"spellLoops":1},"uaStrikeType":"physical","divineSmite":{"dsEnable":false,"dsSelf":true,"dsSelfDelay":0,"dsSelfColor":"a1","dsTarget":true,"dsTargetDelay":1250,"dsTargetColor":"a1"},"exAnimLevel":false,"impactVar":"a1","allSounds":{"explosion":{"audioExplodeEnabled":false,"file":"","delay":100,"volume":0.25},"item":{"enableAudio":false,"file":"","delay":100,"volume":0.25}},"teleDist":30,"templates":{"tempType":"a1","tempAnim":"","tempColor":"","tempLoop":1,"customAnim":false,"customPath":""}}}}
